<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>MathCore Chat Interface</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        height: 100vh;
        display: flex;
        flex-direction: column;
        background-color: #f0f2f5;
    }
    #header {
        background-color: #4CAF50;
        color: white;
        text-align: center;
        padding: 15px;
        font-size: 24px;
    }
    #chat-container {
        display: flex;
        flex: 1;
        overflow: hidden;
    }
    #input-section {
        width: 35%;
        padding: 15px;
        background: #fff;
        border-right: 1px solid #ccc;
        display: flex;
        flex-direction: column;
    }
    #question {
        flex: 1;
        resize: none;
        font-size: 16px;
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #ccc;
        margin-bottom: 10px;
    }
    #keyboard-toggle {
        padding: 10px;
        margin-bottom: 10px;
        cursor: pointer;
        border: 1px solid #888;
        border-radius: 5px;
        background-color: #e0e0e0;
        text-align: center;
    }
    #math-keyboard {
        display: none;
        flex-wrap: wrap;
        background: #f9f9f9;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        max-height: 150px;
        overflow-y: auto;
    }
    #math-keyboard button {
        margin: 2px;
        padding: 8px 12px;
        font-size: 16px;
        cursor: pointer;
        border-radius: 4px;
        border: 1px solid #888;
        background-color: #e0e0e0;
    }
    #math-keyboard button:hover {
        background-color: #d0d0d0;
    }
    #solve-btn {
        padding: 12px;
        font-size: 18px;
        border: none;
        border-radius: 6px;
        background-color: #4CAF50;
        color: white;
        cursor: pointer;
    }
    #solve-btn:hover {
        background-color: #45a049;
    }
    #answer-section {
        flex: 1;
        padding: 15px;
        overflow-y: auto;
        background: #eef2f5;
    }
    .message {
        margin-bottom: 10px;
        padding: 10px;
        border-radius: 6px;
        max-width: 90%;
        word-wrap: break-word;
    }
    .user-message {
        background-color: #cce5ff;
        align-self: flex-end;
    }
    .bot-message {
        background-color: #fff;
        align-self: flex-start;
    }
</style>
</head>
<body>

<div id="header">MathCore Assistant</div>

<div id="chat-container">
    <div id="input-section">
        <textarea id="question" placeholder="اكتب سؤالك الرياضي هنا..."></textarea>
        <div id="keyboard-toggle" onclick="toggleKeyboard()">إظهار/إخفاء لوحة الرموز</div>
        <div id="math-keyboard">
            <!-- جميع الرموز الرياضية الأساسية -->
            <button onclick="insertSymbol('π')">π</button>
            <button onclick="insertSymbol('√')">√</button>
            <button onclick="insertSymbol('^')">^</button>
            <button onclick="insertSymbol('∞')">∞</button>
            <button onclick="insertSymbol('Σ')">Σ</button>
            <button onclick="insertSymbol('Δ')">Δ</button>
            <button onclick="insertSymbol('+')">+</button>
            <button onclick="insertSymbol('-')">-</button>
            <button onclick="insertSymbol('*')">*</button>
            <button onclick="insertSymbol('/')">/</button>
            <button onclick="insertSymbol('(')">(</button>
            <button onclick="insertSymbol(')')">)</button>
            <button onclick="insertSymbol('=')">=</button>
            <button onclick="insertSymbol('≤')">≤</button>
            <button onclick="insertSymbol('≥')">≥</button>
            <button onclick="insertSymbol('≠')">≠</button>
            <button onclick="insertSymbol('∫')">∫</button>
            <button onclick="insertSymbol('∂')">∂</button>
            <button onclick="insertSymbol('θ')">θ</button>
            <button onclick="insertSymbol('λ')">λ</button>
            <button onclick="insertSymbol('α')">α</button>
            <button onclick="insertSymbol('β')">β</button>
            <button onclick="insertSymbol('γ')">γ</button>
        </div>
        <button id="solve-btn" onclick="sendQuestion()">حل المعادلة</button>
    </div>
    <div id="answer-section"></div>
</div>

<script>
function toggleKeyboard() {
    const kb = document.getElementById('math-keyboard');
    kb.style.display = kb.style.display === 'flex' ? 'none' : 'flex';
}

function insertSymbol(sym) {
    const textarea = document.getElementById('question');
    const start = textarea.selectionStart;
    const end = textarea.selectionEnd;
    const text = textarea.value;
    textarea.value = text.slice(0, start) + sym + text.slice(end);
    textarea.selectionStart = textarea.selectionEnd = start + sym.length;
    textarea.focus();
}

function sendQuestion() {
    const question = document.getElementById('question').value.trim();
    if (!question) {
        alert("الرجاء إدخال السؤال!");
        return;
    }
    // عرض الرسالة في واجهة المحادثة
    const answerSection = document.getElementById('answer-section');
    const userMsg = document.createElement('div');
    userMsg.className = 'message user-message';
    userMsg.textContent = question;
    answerSection.appendChild(userMsg);

    // رد وهمي مؤقت (لاحقًا يمكن ربط MathCore)
    const botMsg = document.createElement('div');
    botMsg.className = 'message bot-message';
    botMsg.textContent = "هنا سيظهر حل MathCore...";
    answerSection.appendChild(botMsg);

    answerSection.scrollTop = answerSection.scrollHeight;
    document.getElementById('question').value = '';
}
</script>

</body>
</html>
